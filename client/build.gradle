apply plugin: 'application'

dependencies {
    implementation project(':connection-api')

    implementation 'com.google.code.gson:gson'
    implementation 'com.google.guava:guava'
    implementation 'commons-io:commons-io'
    implementation 'com.sun.xml.bind:jaxb-core'
    implementation 'com.sun.xml.bind:jaxb-impl'
    implementation 'one.util:streamex'
    implementation 'org.swinglabs:swingx'

    runtime project(':connection-collaboration')
    runtime project(':connection-direct')
}

run {
    mainClassName = 'edu.cmu.cs.diamond.hyperfind.Main'
    args = [
            "edu.cmu.cs.diamond.hyperfind.connection.direct.DirectConnection",
            "$System.env.HOME/.diamond/codecs:$System.env.HOME/.diamond/predicates:/usr/local/share/diamond/codecs:/usr/local/share/diamond/predicates:/usr/share/diamond/codecs:/usr/share/diamond/predicates",
            "$System.env.HOME/.diamond/filters:/usr/local/share/diamond/filters:/usr/share/diamond/filters"
    ]
}

task runCollaboration(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = 'edu.cmu.cs.diamond.hyperfind.Main'
    args = [
            "edu.cmu.cs.diamond.hyperfind.connection.collaboration.CollaborationConnection",
            "localhost",
            "7177"
    ]
}
